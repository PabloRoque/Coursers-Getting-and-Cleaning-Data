}
multiplot(plotlist = plots, cols = 3)
grid_arrange_shared_legend()
grid_arrange_shared_legend <- function(...) {
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
}
grid_arrange_shared_legend()
grid_arrange_shared_legend(plots)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list(...)
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots2 <- list(...)
for (i in 13:24) {
p2 = lp2 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p2 = lp2 + scale_size(name  = names(aggrData[i+3+46]))
plots2[[i]] <- p2  # add each plot into plot list
}
multiplot(plotlist = plots2, cols = 3)
g2 <- ggplotGrob(plots2[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots2 <- list(...)
for (i in 13:24) {
p2 = lp2 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p2 = lp2 + scale_size(name  = names(aggrData[i+3+46]))
plots2[[i]] <- p2  # add each plot into plot list
}
multiplot(plotlist = plots2, cols = 3)
plots2 <- list()
for (i in 13:24) {
p2 = lp2 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p2 = lp2 + scale_size(name  = names(aggrData[i+3+46]))
plots2[[i]] <- p2  # add each plot into plot list
}
multiplot(plotlist = plots2, cols = 3)
g2 <- ggplotGrob(plots2[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots2 <- list()
for (i in 13:24) {
p2 = lp2 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p2 = lp2 + scale_size(name  = names(aggrData[i+3+46]))
plots2[[i]] <- p2  # add each plot into plot list
}
multiplot(plotlist = plots2, cols = 3)
plots2 <- list()
for (i in 13:24) {
p2 = lp2 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p2 = lp2 + scale_size(name  = names(aggrData[i+3+46]))
plots2[[i]] <- p2  # add each plot into plot list
}
multiplot(plotlist = plots2, cols = 3)
plots2 <- list(...)
g2 <- ggplotGrob(plots2[[1]] + theme(legend.position="bottom"))$grobs
legend <- g2[[which(sapply(g2, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots2, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots2 <- list()
for (i in 13:24) {
p2 = lp2 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p2 = lp2 + scale_size(name  = names(aggrData[i+3+46]))
plots2[[i]] <- p2  # add each plot into plot list
}
multiplot(plotlist = plots2, cols = 3)
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+4], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i-12]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
names(aggrData[1:12])
names(aggrData[13:24])
names(aggrData[5])
names(aggrData[4])
names(aggrData[4+46])
names(aggrData[12+4+46])
names(aggrData[12+4])
names(aggrData[11+4])
names(aggrData[11+3])
names(aggrData[12+3])
names(aggrData[13+3])
names(aggrData[13+3+46])
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
#####################
plots <- list()  # new empty list
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i-12]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
length(dtMeanStd)
length(meanNames)
ncol(meanNames)
nrow(meanNames)
nrow(stdNames)
names(aggrData[12+3])
names(aggrData[13+3])
names(aggrData[13+3+46])
plots <- list()  # new empty list
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i-13]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 13:24) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i-12]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
source('~/Documents/JHCourse/datasciencecoursera/Getting_and_Cleaning_Data/Assignment/run_analysis.R')
library(ggplot2)
library(gridExtra)
library(grid)
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots
lp1 <- qplot(x=aggrData$subject, y=aggrData[,4], data=aggrData, color=activity,
size = abs(aggrData[,4+46]), xlab="subject", ylab=names(aggrData[4]), alpha = I(0.7))
lp1 + scale_size(name  = names(aggrData[4+46]))
lp1 <- qplot(x=aggrData$subject, y=aggrData[,5], data=aggrData, color=activity,
size = abs(aggrData[,5+46]), xlab="subject", ylab=names(aggrData[4]), alpha = I(0.7))
lp1 + scale_size(name  = names(aggrData[5+46]))
plots <- list()  # new empty list
for (i in 1:12) {
lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
lp1 <- lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- lp1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
class(plots)
plots[1]
plots[2]
plots[3]
plots <- list()  # new empty list
for (i in 1:12) {
p1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = p1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots
plots <- list()  # new empty list
for (i in 1:12) {
lp1 = p1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
lp1 = p1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- lp1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
#####################
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
library(ggplot2)
library(gridExtra)
library(grid)
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list(...)
g <- ggplotGrob(plots[[1]] + theme(legend.position="bottom"))$grobs
legend <- g[[which(sapply(g, function(x) x$name) == "guide-box")]]
lheight <- sum(legend$height)
grid.arrange(
do.call(arrangeGrob, lapply(plots, function(x)
x + theme(legend.position="none"))),
legend,
ncol = 1,
heights = unit.c(unit(1, "npc") - lheight, lheight))
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
multiplot(plotlist = plots, cols = 3)
plots <- list()  # new empty list
for (i in 1:12) {
p1 = lp1 <- qplot(x=aggrData$subject, y=aggrData[,i+3], data=aggrData, color=activity,
size = abs(aggrData[,i+3+46]), xlab="subject", ylab=names(aggrData[i+3]),
alpha = I(0.7))
p1 = lp1 + scale_size(name  = names(aggrData[i+3+46]))
plots[[i]] <- p1  # add each plot into plot list
}
plots
# size = standard deviation of corresponding variable
lp1 <- qplot(x=aggrData$subject, y=aggrData[,4], data=aggrData, color=activity,
size = abs(aggrData[,4+46]), xlab="subject", ylab=names(aggrData[4]), alpha = I(0.7))
lp1 + scale_size(name  = names(aggrData[4+46]))
